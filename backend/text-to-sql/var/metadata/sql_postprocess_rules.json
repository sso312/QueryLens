{
  "execution": {
    "mode": "conservative"
  },
  "schema_aliases": {
    "use_schema_hints": false,
    "table_aliases": {},
    "column_aliases": {}
  },
  "diagnosis_rewrite": {
    "enabled": true,
    "table_name": "DIAGNOSES_ICD",
    "icd_like_template": "{alias}.ICD_CODE LIKE '{prefix}%'",
    "join_operator": " OR "
  },
  "procedure_rewrite": {
    "enabled": true,
    "table_name": "PROCEDURES_ICD",
    "icd_like_template": "{alias}.ICD_CODE LIKE '{prefix}%'",
    "join_operator": " OR "
  },
  "icd_version_inference": {
    "enabled": true,
    "table_names": ["DIAGNOSES_ICD", "PROCEDURES_ICD"],
    "version_column": "ICD_VERSION",
    "letter_prefix_version": 10,
    "digit_prefix_version": 9,
    "prefix_version_overrides": {
      "021": 10,
      "027": 10
    },
    "predicate_template": "({version_col} = {version} AND {code_expr} LIKE '{prefix}%')"
  },
  "mortality_rewrite": {
    "enabled": true,
    "join_tables": ["DIAGNOSES_ICD", "PROCEDURES_ICD"],
    "admissions_table": "ADMISSIONS",
    "outcome_column": "HOSPITAL_EXPIRE_FLAG",
    "key_column": "HADM_ID",
    "numerator_template": "COUNT(DISTINCT CASE WHEN {expire_ref} = 1 THEN {key_ref} END)",
    "denominator_template": "NULLIF(COUNT(DISTINCT {key_ref}), 0)"
  },
  "time_window_rewrite": {
    "enabled": true,
    "death_anchor_column": "DEATHTIME",
    "from_column": "DISCHTIME",
    "to_column": "ADMITTIME",
    "exclude_question_keywords": ["퇴원 후", "퇴원후", "after discharge", "post-discharge"]
  },
  "admissions_icu_alignment": {
    "enabled": true,
    "admissions_table": "ADMISSIONS",
    "icustays_table": "ICUSTAYS"
  },
  "label_intent_rewrite": {
    "enabled": true,
    "use_metadata_profiles": true,
    "max_metadata_profiles": 4,
    "min_metadata_score": 3,
    "profiles": []
  }
}
