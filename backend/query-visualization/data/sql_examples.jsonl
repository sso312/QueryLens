{"question": "Count admissions with an ICU stay", "sql": "SELECT COUNT(*) AS cnt FROM ADMISSIONS a JOIN ICUSTAYS i ON a.SUBJECT_ID = i.SUBJECT_ID AND a.HADM_ID = i.HADM_ID WHERE a.HADM_ID IS NOT NULL", "intent": "count", "chart_type": "bar", "x_meaning": "cnt", "y_meaning": "count"}
{"question": "Average ICU LOS by first careunit", "sql": "SELECT FIRST_CAREUNIT, AVG(LOS) AS avg_los FROM ICUSTAYS WHERE FIRST_CAREUNIT IS NOT NULL AND LOS IS NOT NULL GROUP BY FIRST_CAREUNIT", "intent": "comparison", "chart_type": "bar", "x_meaning": "first care unit", "y_meaning": "average"}
{"question": "Count ICU stays by first careunit", "sql": "SELECT FIRST_CAREUNIT, COUNT(*) AS cnt FROM ICUSTAYS WHERE FIRST_CAREUNIT IS NOT NULL GROUP BY FIRST_CAREUNIT ORDER BY cnt DESC", "intent": "comparison", "chart_type": "bar", "x_meaning": "first care unit", "y_meaning": "count"}
{"question": "Count ICU stays by last careunit", "sql": "SELECT LAST_CAREUNIT, COUNT(*) AS cnt FROM ICUSTAYS WHERE LAST_CAREUNIT IS NOT NULL GROUP BY LAST_CAREUNIT ORDER BY cnt DESC", "intent": "comparison", "chart_type": "bar", "x_meaning": "last care unit", "y_meaning": "count"}
{"question": "Count chart events by warning flag", "sql": "SELECT WARNING, COUNT(*) AS cnt FROM CHARTEVENTS WHERE WARNING IS NOT NULL GROUP BY WARNING ORDER BY cnt DESC", "intent": "comparison", "chart_type": "bar", "x_meaning": "warning", "y_meaning": "count"}
{"question": "Top 10 chart event labels by count", "sql": "SELECT * FROM (SELECT d.LABEL, COUNT(*) AS cnt FROM CHARTEVENTS c JOIN D_ITEMS d ON c.ITEMID = d.ITEMID WHERE d.LABEL IS NOT NULL GROUP BY d.LABEL ORDER BY cnt DESC) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "label", "y_meaning": "y axis"}
{"question": "Count lab events by flag", "sql": "SELECT FLAG, COUNT(*) AS cnt FROM LABEVENTS WHERE FLAG IS NOT NULL GROUP BY FLAG ORDER BY cnt DESC", "intent": "comparison", "chart_type": "bar", "x_meaning": "flag", "y_meaning": "count"}
{"question": "Count lab events by priority", "sql": "SELECT PRIORITY, COUNT(*) AS cnt FROM LABEVENTS WHERE PRIORITY IS NOT NULL GROUP BY PRIORITY ORDER BY cnt DESC", "intent": "comparison", "chart_type": "bar", "x_meaning": "priority", "y_meaning": "count"}
{"question": "Top 10 lab item labels by count", "sql": "SELECT * FROM (SELECT d.LABEL, COUNT(*) AS cnt FROM LABEVENTS l JOIN D_LABITEMS d ON l.ITEMID = d.ITEMID WHERE d.LABEL IS NOT NULL GROUP BY d.LABEL ORDER BY cnt DESC) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "label", "y_meaning": "y axis"}
{"question": "Top 10 microbiology tests by count", "sql": "SELECT * FROM (SELECT TEST_NAME, COUNT(*) AS cnt FROM MICROBIOLOGYEVENTS WHERE TEST_NAME IS NOT NULL GROUP BY TEST_NAME ORDER BY cnt DESC) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "test name", "y_meaning": "y axis"}
{"question": "Top 10 organisms by count", "sql": "SELECT * FROM (SELECT ORG_NAME, COUNT(*) AS cnt FROM MICROBIOLOGYEVENTS WHERE ORG_NAME IS NOT NULL GROUP BY ORG_NAME ORDER BY cnt DESC) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "org name", "y_meaning": "y axis"}
{"question": "Top 10 antibiotics by count", "sql": "SELECT * FROM (SELECT AB_NAME, COUNT(*) AS cnt FROM MICROBIOLOGYEVENTS WHERE AB_NAME IS NOT NULL GROUP BY AB_NAME ORDER BY cnt DESC) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "ab name", "y_meaning": "y axis"}
{"question": "Count services by current service", "sql": "SELECT CURR_SERVICE, COUNT(*) AS cnt FROM SERVICES WHERE CURR_SERVICE IS NOT NULL GROUP BY CURR_SERVICE ORDER BY cnt DESC", "intent": "comparison", "chart_type": "bar", "x_meaning": "curr service", "y_meaning": "count"}
{"question": "Top 10 service transitions by count", "sql": "SELECT * FROM (SELECT PREV_SERVICE, CURR_SERVICE, COUNT(*) AS cnt FROM SERVICES WHERE PREV_SERVICE IS NOT NULL AND CURR_SERVICE IS NOT NULL GROUP BY PREV_SERVICE, CURR_SERVICE ORDER BY cnt DESC) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "stacked_bar", "x_meaning": "prev service", "y_meaning": "y axis"}
{"question": "Average anchor age by gender", "sql": "SELECT GENDER, AVG(ANCHOR_AGE) AS avg_age FROM PATIENTS WHERE GENDER IS NOT NULL AND ANCHOR_AGE IS NOT NULL GROUP BY GENDER", "intent": "comparison", "chart_type": "bar", "x_meaning": "gender", "y_meaning": "average"}
{"question": "Count patients by anchor year group", "sql": "SELECT ANCHOR_YEAR_GROUP, COUNT(*) AS cnt FROM PATIENTS WHERE ANCHOR_YEAR_GROUP IS NOT NULL GROUP BY ANCHOR_YEAR_GROUP ORDER BY cnt DESC", "intent": "trend", "chart_type": "bar", "x_meaning": "anchor year group", "y_meaning": "count"}
{"question": "For my 89-year-old male: among men 84-94, what's the maximum number of distinct echocardiography procedures per patient during hospitalization?", "sql": "SELECT MAX(procedure_count) as max_echo_procedures FROM ( SELECT p.subject_id, COUNT(DISTINCT pr.icd_code) as procedure_count FROM PATIENTS p JOIN PROCEDURES_ICD pr ON p.subject_id = pr.subject_id WHERE p.gender = 'M' AND p.anchor_age BETWEEN 84 AND 94 AND ( (pr.icd_version = 10 AND pr.icd_code LIKE 'B24%') OR (pr.icd_version = 9 AND pr.icd_code = '8872') ) GROUP BY p.subject_id ) patient_procedures;", "intent": "trend", "chart_type": "bar", "x_meaning": "patient procedures", "y_meaning": "maximum"}
{"question": "I have an 85-year-old male. Among men 80-90, what's the maximum distinct mechanical circulatory support procedures per hospitalized patient?", "sql": "SELECT MAX(procedure_count) AS max_mechanical_circulatory_support_count FROM ( SELECT p.subject_id, COUNT(DISTINCT pr.icd_code) AS procedure_count FROM PATIENTS AS p JOIN PROCEDURES_ICD AS pr ON p.subject_id = pr.subject_id WHERE p.gender = 'M' AND p.anchor_age BETWEEN 80 AND 90 AND ( (pr.icd_version = 9 AND pr.icd_code LIKE '37.6%') OR (pr.icd_version = 10 AND ( pr.icd_code LIKE '5A02%' OR pr.icd_code LIKE '02HL%' )) ) GROUP BY p.subject_id ) AS patient_procedure_counts;", "intent": "trend", "chart_type": "bar", "x_meaning": "patient procedure counts", "y_meaning": "maximum"}
{"question": "I have an 86-year-old man. Among males 81-91, what's the SD of distinct ECG/telemetry procedure codes per patient during hospitalization?", "sql": "SELECT ROUND(STDDEV(procedure_count), 2) AS stddev_ecg_telemetry_procedures FROM ( SELECT p.subject_id, COUNT(DISTINCT pr.icd_code) AS procedure_count FROM PATIENTS p JOIN PROCEDURES_ICD pr ON p.subject_id = pr.subject_id WHERE p.gender = 'M' AND p.anchor_age BETWEEN 81 AND 91 AND pr.icd_code IS NOT NULL AND pr.icd_version IS NOT NULL AND ( (pr.icd_version = 9 AND ( pr.icd_code = '89.52' OR pr.icd_code = '89.54' )) OR (pr.icd_version = 10 AND ( pr.icd_code LIKE '4A02%' OR pr.icd_code LIKE '4A12%' )) ) GROUP BY p.subject_id ) patient_procedures;", "intent": "trend", "chart_type": "bar", "x_meaning": "patient procedures", "y_meaning": "standard deviation"}
{"question": "I have a 46-year-old female. Among females 41-51, what is the standard deviation of distinct CABG procedures per patient?", "sql": "SELECT ROUND(STDDEV(procedure_count), 2) as stddev_cabg_procedures FROM ( SELECT p.subject_id, COUNT(DISTINCT pr.icd_code) as procedure_count FROM PATIENTS p JOIN PROCEDURES_ICD pr ON p.subject_id = pr.subject_id WHERE p.gender = 'F' AND p.anchor_age BETWEEN 41 AND 51 AND ( (pr.icd_version = 9 AND pr.icd_code LIKE '36.1%') OR (pr.icd_version = 10 AND pr.icd_code LIKE '021%') ) GROUP BY p.subject_id ) patient_procedures;", "intent": "trend", "chart_type": "bar", "x_meaning": "patient procedures", "y_meaning": "standard deviation"}
{"question": "I have a 62-year-old woman; among female patients aged 57-67, what's the minimum distinct valve repair/replacement procedures per hospitalization?", "sql": "SELECT MIN(procedure_count) AS min_valve_procedures FROM ( SELECT p.subject_id, COUNT(DISTINCT pr.icd_code) AS procedure_count FROM PATIENTS AS p INNER JOIN PROCEDURES_ICD AS pr ON p.subject_id = pr.subject_id WHERE p.gender = 'F' AND p.anchor_age BETWEEN 57 AND 67 AND pr.icd_code IS NOT NULL AND ( (pr.icd_version = 9 AND ( pr.icd_code LIKE '35.1%' OR pr.icd_code LIKE '35.2%' OR pr.icd_code = '35.05' OR pr.icd_code = '35.06' OR pr.icd_code = '35.07' OR pr.icd_code = '35.08' OR pr.icd_code = '35.96' )) OR (pr.icd_version = 10 AND ( pr.icd_code LIKE '02RF%' OR pr.icd_code LIKE '02UF%' )) ) GROUP BY p.subject_id ) AS patient_procedures;", "intent": "trend", "chart_type": "bar", "x_meaning": "patient procedures", "y_meaning": "minimum"}
{"question": "For my 91-year-old male, among men 86-96, what is the SD of distinct catheter ablation or cardioversion procedures per patient?", "sql": "SELECT ROUND(STDDEV(procedure_count), 2) AS stddev_procedure_count FROM ( SELECT p.subject_id, COUNT(DISTINCT pr.icd_code) AS procedure_count FROM PATIENTS AS p LEFT JOIN PROCEDURES_ICD AS pr ON p.subject_id = pr.subject_id AND ( (pr.icd_version = 9 AND ( pr.icd_code = '37.34' OR pr.icd_code LIKE '99.6%' )) OR (pr.icd_version = 10 AND ( pr.icd_code LIKE '025%' OR pr.icd_code LIKE '5A22%' )) ) WHERE p.gender = 'M' AND p.anchor_age BETWEEN 86 AND 96 GROUP BY p.subject_id ) AS patient_procedures;", "intent": "trend", "chart_type": "bar", "x_meaning": "patient procedures", "y_meaning": "standard deviation"}
{"question": "In male patients aged 82-92, what is the minimum number of distinct pacemaker or ICD implantation procedures per hospitalization?", "sql": "SELECT MIN(procedure_count) as min_pacemaker_or_icd_implantations FROM ( SELECT p.subject_id, COUNT(DISTINCT pr.icd_code) as procedure_count FROM PATIENTS AS p JOIN PROCEDURES_ICD AS pr ON p.subject_id = pr.subject_id WHERE p.gender = 'M' AND p.anchor_age BETWEEN 82 AND 92 AND ( (pr.icd_version = 9 AND ( pr.icd_code LIKE '37.8%' OR pr.icd_code = '37.94' OR pr.icd_code = '37.95' OR pr.icd_code = '37.96' )) OR (pr.icd_version = 10 AND ( pr.icd_code LIKE '0JH6%' OR pr.icd_code LIKE '0JH8%' OR pr.icd_code LIKE '0JHT%' OR pr.icd_code LIKE '0JHW%' )) ) GROUP BY p.subject_id ) AS patient_procedures;", "intent": "count", "chart_type": "bar", "x_meaning": "patient procedures", "y_meaning": "minimum"}
{"question": "For a 45-year-old female, among women aged 40-50, what's the minimum number of distinct mechanical circulatory support procedures per patient?", "sql": "SELECT MIN(procedure_count) as min_mechanical_circulatory_support FROM ( SELECT p.subject_id, COUNT(DISTINCT pr.icd_code) as procedure_count FROM PATIENTS p JOIN PROCEDURES_ICD pr ON p.subject_id = pr.subject_id WHERE p.gender = 'F' AND p.anchor_age BETWEEN 40 AND 50 AND ( (pr.icd_version = 10 AND ( pr.icd_code LIKE '5A0%' OR pr.icd_code LIKE '5A1%' )) OR (pr.icd_version = 9 AND ( pr.icd_code LIKE '37.6%' OR pr.icd_code = '39.65' )) ) GROUP BY p.subject_id ) AS patient_procedure_counts;", "intent": "trend", "chart_type": "bar", "x_meaning": "patient procedure counts", "y_meaning": "minimum"}
{"question": "For my 47-year-old male, among males aged 42-52 who had valve repair/replacement, what is the average distinct valve procedures per patient?", "sql": "SELECT ROUND(AVG(procedure_count), 2) AS avg_valve_procedures FROM ( SELECT p.subject_id, COUNT(DISTINCT pr.icd_code) AS procedure_count FROM PATIENTS AS p JOIN PROCEDURES_ICD AS pr ON p.subject_id = pr.subject_id WHERE p.gender = 'M' AND p.anchor_age BETWEEN 42 AND 52 AND ( (pr.icd_version = 9 AND ( pr.icd_code LIKE '35.1%' OR pr.icd_code LIKE '35.2%' OR pr.icd_code IN ('35.05', '35.06', '35.07', '35.08') )) OR (pr.icd_version = 10 AND SUBSTR(pr.icd_code, 1, 4) IN ( '02PF', '02PG', '02PH', '02PJ', '02RF', '02RG', '02RH', '02RJ' ) ) ) GROUP BY p.subject_id ) AS patient_procedures;", "intent": "trend", "chart_type": "bar", "x_meaning": "patient procedures", "y_meaning": "average"}
{"question": "For my 61-year-old male patient, among males 56-66, what is SD of distinct mechanical circulatory support procedures per patient?", "sql": "SELECT ROUND(STDDEV(procedure_count), 2) as stddev_mech_circ_support_procedures FROM ( SELECT p.subject_id, COUNT(DISTINCT pr.icd_code) as procedure_count FROM PATIENTS p JOIN PROCEDURES_ICD pr ON p.subject_id = pr.subject_id WHERE p.gender = 'M' AND p.anchor_age BETWEEN 56 AND 66 AND pr.icd_code IS NOT NULL AND ( (pr.icd_version = 9 AND ( pr.icd_code LIKE '37.6%' )) OR (pr.icd_version = 10 AND ( pr.icd_code LIKE '5A02%' OR pr.icd_code LIKE '5A1522%' )) ) GROUP BY p.subject_id ) patient_procedures;", "intent": "trend", "chart_type": "bar", "x_meaning": "patient procedures", "y_meaning": "standard deviation"}
{"question": "For my 42-year-old male, among men 37-47, what's the SD of distinct catheter ablation or cardioversion procedures during hospitalization?", "sql": "SELECT ROUND(STDDEV(procedure_count), 2) as stddev_procedure_count FROM ( SELECT p.subject_id, COUNT(DISTINCT pr.icd_code) as procedure_count FROM PATIENTS p JOIN PROCEDURES_ICD pr ON p.subject_id = pr.subject_id WHERE p.gender = 'M' AND p.anchor_age BETWEEN 37 AND 47 AND ( (pr.icd_version = 9 AND pr.icd_code IN ( '99.60', '99.61', '99.62', '99.69', '37.34' )) OR (pr.icd_version = 10 AND ( pr.icd_code LIKE '5A22%' OR pr.icd_code LIKE '0258%' )) ) GROUP BY p.subject_id ) patient_procedures;", "intent": "trend", "chart_type": "bar", "x_meaning": "patient procedures", "y_meaning": "standard deviation"}
{"question": "For my 86-year-old female, among females 81-91, what's the maximum number of distinct echocardiography procedures per patient during hospitalization?", "sql": "SELECT MAX(procedure_count) AS max_distinct_echo_procedures FROM ( SELECT p.subject_id, COUNT(DISTINCT pr.icd_code) AS procedure_count FROM PATIENTS AS p JOIN PROCEDURES_ICD AS pr ON p.subject_id = pr.subject_id WHERE p.gender = 'F' AND p.anchor_age BETWEEN 81 AND 91 AND ( (pr.icd_version = 9 AND pr.icd_code = '88.72') OR (pr.icd_version = 10 AND pr.icd_code LIKE 'B21%') ) GROUP BY p.subject_id ) AS patient_procedures;", "intent": "trend", "chart_type": "bar", "x_meaning": "patient procedures", "y_meaning": "maximum"}
{"question": "Top 10 lab test labels by frequency", "sql": "SELECT * FROM ( SELECT d.LABEL, COUNT(*) AS cnt FROM LABEVENTS l JOIN D_LABITEMS d ON l.ITEMID = d.ITEMID WHERE d.LABEL IS NOT NULL GROUP BY d.LABEL ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "label", "y_meaning": "y axis"}
{"question": "Top 10 charted item labels by frequency", "sql": "SELECT * FROM ( SELECT d.LABEL, COUNT(*) AS cnt FROM CHARTEVENTS c JOIN D_ITEMS d ON c.ITEMID = d.ITEMID WHERE d.LABEL IS NOT NULL GROUP BY d.LABEL ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "label", "y_meaning": "y axis"}
{"question": "Count medication administrations by medication name", "sql": "SELECT * FROM ( SELECT MEDICATION, COUNT(*) AS cnt FROM EMAR WHERE MEDICATION IS NOT NULL GROUP BY MEDICATION ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "medication", "y_meaning": "y axis"}
{"question": "Average dose given by administration type", "sql": "SELECT * FROM ( SELECT ADMINISTRATION_TYPE, AVG(DOSE_GIVEN) AS avg_dose FROM EMAR_DETAIL WHERE DOSE_GIVEN IS NOT NULL GROUP BY ADMINISTRATION_TYPE ORDER BY avg_dose DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "administration type", "y_meaning": "y axis"}
{"question": "Top 10 stays by total input amount", "sql": "SELECT * FROM ( SELECT STAY_ID, SUM(AMOUNT) AS total_amount FROM INPUTEVENTS WHERE AMOUNT IS NOT NULL GROUP BY STAY_ID ORDER BY total_amount DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "ICU stay", "y_meaning": "y axis"}
{"question": "Top 10 stays by total output value", "sql": "SELECT * FROM ( SELECT STAY_ID, SUM(VALUE) AS total_output FROM OUTPUTEVENTS WHERE VALUE IS NOT NULL GROUP BY STAY_ID ORDER BY total_output DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "ICU stay", "y_meaning": "y axis"}
{"question": "Service transition counts", "sql": "SELECT * FROM ( SELECT PREV_SERVICE, CURR_SERVICE, COUNT(*) AS cnt FROM SERVICES WHERE PREV_SERVICE IS NOT NULL AND CURR_SERVICE IS NOT NULL GROUP BY PREV_SERVICE, CURR_SERVICE ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "prev service", "y_meaning": "y axis"}
{"question": "Transfer counts by care unit", "sql": "SELECT * FROM ( SELECT CAREUNIT, COUNT(*) AS cnt FROM TRANSFERS WHERE CAREUNIT IS NOT NULL GROUP BY CAREUNIT ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "care unit", "y_meaning": "y axis"}
{"question": "Top 10 diagnosis titles", "sql": "SELECT * FROM ( SELECT d.LONG_TITLE, COUNT(*) AS cnt FROM DIAGNOSES_ICD dx JOIN D_ICD_DIAGNOSES d ON dx.ICD_CODE = d.ICD_CODE AND dx.ICD_VERSION = d.ICD_VERSION WHERE d.LONG_TITLE IS NOT NULL GROUP BY d.LONG_TITLE ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "count", "chart_type": "bar", "x_meaning": "long title", "y_meaning": "y axis"}
{"question": "Top 10 procedure titles", "sql": "SELECT * FROM ( SELECT d.LONG_TITLE, COUNT(*) AS cnt FROM PROCEDURES_ICD pr JOIN D_ICD_PROCEDURES d ON pr.ICD_CODE = d.ICD_CODE AND pr.ICD_VERSION = d.ICD_VERSION WHERE d.LONG_TITLE IS NOT NULL GROUP BY d.LONG_TITLE ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "count", "chart_type": "bar", "x_meaning": "long title", "y_meaning": "y axis"}
{"question": "ICU stays by first careunit", "sql": "SELECT * FROM ( SELECT FIRST_CAREUNIT, COUNT(*) AS cnt FROM ICUSTAYS WHERE FIRST_CAREUNIT IS NOT NULL GROUP BY FIRST_CAREUNIT ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "first care unit", "y_meaning": "y axis"}
{"question": "Admissions by insurance type", "sql": "SELECT * FROM ( SELECT INSURANCE, COUNT(*) AS cnt FROM ADMISSIONS WHERE INSURANCE IS NOT NULL GROUP BY INSURANCE ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "insurance", "y_meaning": "y axis"}
{"question": "Medication administrations with dose given", "sql": "SELECT e.MEDICATION, d.DOSE_GIVEN, d.DOSE_GIVEN_UNIT FROM EMAR e JOIN EMAR_DETAIL d ON e.SUBJECT_ID = d.SUBJECT_ID AND e.EMAR_ID = d.EMAR_ID AND e.EMAR_SEQ = d.EMAR_SEQ WHERE e.MEDICATION IS NOT NULL AND d.DOSE_GIVEN IS NOT NULL AND ROWNUM <= 100", "intent": "summary", "chart_type": "table", "x_meaning": "medication", "y_meaning": "dose given"}
{"question": "Top 10 microbiology specimen types by count", "sql": "SELECT * FROM ( SELECT SPEC_TYPE_DESC, COUNT(*) AS cnt FROM MICROBIOLOGYEVENTS WHERE SPEC_TYPE_DESC IS NOT NULL GROUP BY SPEC_TYPE_DESC ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "spec type desc", "y_meaning": "y axis"}
{"question": "Lab item counts by category and fluid", "sql": "SELECT * FROM ( SELECT CATEGORY, FLUID, COUNT(*) AS cnt FROM D_LABITEMS WHERE CATEGORY IS NOT NULL GROUP BY CATEGORY, FLUID ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "stacked_bar", "x_meaning": "category", "y_meaning": "y axis"}
{"question": "Top 10 input event items by total amount", "sql": "SELECT * FROM ( SELECT d.LABEL, SUM(e.AMOUNT) AS total_amount FROM INPUTEVENTS e JOIN D_ITEMS d ON e.ITEMID = d.ITEMID WHERE e.AMOUNT IS NOT NULL GROUP BY d.LABEL ORDER BY total_amount DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "label", "y_meaning": "y axis"}
{"question": "Top 10 output event items by total value", "sql": "SELECT * FROM ( SELECT d.LABEL, SUM(e.VALUE) AS total_value FROM OUTPUTEVENTS e JOIN D_ITEMS d ON e.ITEMID = d.ITEMID WHERE e.VALUE IS NOT NULL GROUP BY d.LABEL ORDER BY total_value DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "label", "y_meaning": "y axis"}
{"question": "POE order types by count", "sql": "SELECT * FROM ( SELECT ORDER_TYPE, COUNT(*) AS cnt FROM POE WHERE ORDER_TYPE IS NOT NULL GROUP BY ORDER_TYPE ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "comparison", "chart_type": "bar", "x_meaning": "order type", "y_meaning": "y axis"}
{"question": "입원(ADMISSIONS) 샘플 100건 보여줘", "sql": "SELECT SUBJECT_ID, HADM_ID FROM ADMISSIONS WHERE SUBJECT_ID IS NOT NULL AND ROWNUM <= 100", "intent": "summary", "chart_type": "table", "x_meaning": "patient", "y_meaning": "hospital admission"}
{"question": "환자(PATIENTS) 샘플 100건 보여줘", "sql": "SELECT SUBJECT_ID, GENDER FROM PATIENTS WHERE SUBJECT_ID IS NOT NULL AND ROWNUM <= 100", "intent": "summary", "chart_type": "table", "x_meaning": "patient", "y_meaning": "gender"}
{"question": "ICU 입실(ICUSTAYS) 샘플 100건 보여줘", "sql": "SELECT SUBJECT_ID, HADM_ID FROM ICUSTAYS WHERE SUBJECT_ID IS NOT NULL AND ROWNUM <= 100", "intent": "summary", "chart_type": "table", "x_meaning": "patient", "y_meaning": "hospital admission"}
{"question": "검사 항목 상위 10개를 보여줘", "sql": "SELECT * FROM (SELECT d.LABEL, COUNT(*) AS cnt FROM LABEVENTS l JOIN D_LABITEMS d ON l.ITEMID = d.ITEMID WHERE d.LABEL IS NOT NULL GROUP BY d.LABEL ORDER BY cnt DESC) WHERE ROWNUM <= 10", "intent": "count", "chart_type": "bar", "x_meaning": "label", "y_meaning": "y axis"}
{"question": "차트 항목 상위 10개를 보여줘", "sql": "SELECT * FROM (SELECT d.LABEL, COUNT(*) AS cnt FROM CHARTEVENTS c JOIN D_ITEMS d ON c.ITEMID = d.ITEMID WHERE d.LABEL IS NOT NULL GROUP BY d.LABEL ORDER BY cnt DESC) WHERE ROWNUM <= 10", "intent": "count", "chart_type": "bar", "x_meaning": "label", "y_meaning": "y axis"}
{"question": "미생물 검사 상위 10개를 보여줘", "sql": "SELECT * FROM (SELECT TEST_NAME, COUNT(*) AS cnt FROM MICROBIOLOGYEVENTS WHERE TEST_NAME IS NOT NULL GROUP BY TEST_NAME ORDER BY cnt DESC) WHERE ROWNUM <= 10", "intent": "count", "chart_type": "bar", "x_meaning": "test name", "y_meaning": "y axis"}
{"question": "귐종(organism) 상위 10개를 보여줘", "sql": "SELECT * FROM (SELECT ORG_NAME, COUNT(*) AS cnt FROM MICROBIOLOGYEVENTS WHERE ORG_NAME IS NOT NULL GROUP BY ORG_NAME ORDER BY cnt DESC) WHERE ROWNUM <= 10", "intent": "count", "chart_type": "bar", "x_meaning": "org name", "y_meaning": "y axis"}
{"question": "항생제 상위 10개를 보여줘", "sql": "SELECT * FROM (SELECT AB_NAME, COUNT(*) AS cnt FROM MICROBIOLOGYEVENTS WHERE AB_NAME IS NOT NULL GROUP BY AB_NAME ORDER BY cnt DESC) WHERE ROWNUM <= 10", "intent": "count", "chart_type": "bar", "x_meaning": "ab name", "y_meaning": "y axis"}
{"question": "진단 상위 10개를 보여줘", "sql": "SELECT * FROM ( SELECT d.LONG_TITLE, COUNT(*) AS cnt FROM DIAGNOSES_ICD dx JOIN D_ICD_DIAGNOSES d ON dx.ICD_CODE = d.ICD_CODE AND dx.ICD_VERSION = d.ICD_VERSION WHERE d.LONG_TITLE IS NOT NULL GROUP BY d.LONG_TITLE ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "count", "chart_type": "bar", "x_meaning": "long title", "y_meaning": "y axis"}
{"question": "시술 상위 10개를 보여줘", "sql": "SELECT * FROM ( SELECT d.LONG_TITLE, COUNT(*) AS cnt FROM PROCEDURES_ICD pr JOIN D_ICD_PROCEDURES d ON pr.ICD_CODE = d.ICD_CODE AND pr.ICD_VERSION = d.ICD_VERSION WHERE d.LONG_TITLE IS NOT NULL GROUP BY d.LONG_TITLE ORDER BY cnt DESC ) WHERE ROWNUM <= 10", "intent": "count", "chart_type": "bar", "x_meaning": "long title", "y_meaning": "y axis"}
{"question": "ICU 첫 병동별 평균 LOS를 보여줘", "sql": "SELECT FIRST_CAREUNIT, AVG(LOS) AS avg_los FROM ICUSTAYS WHERE FIRST_CAREUNIT IS NOT NULL AND LOS IS NOT NULL GROUP BY FIRST_CAREUNIT", "intent": "average", "chart_type": "bar", "x_meaning": "first care unit", "y_meaning": "average"}
{"question": "ICU 첫 병동별 건수를 보여줘", "sql": "SELECT FIRST_CAREUNIT, COUNT(*) AS cnt FROM ICUSTAYS WHERE FIRST_CAREUNIT IS NOT NULL GROUP BY FIRST_CAREUNIT ORDER BY cnt DESC", "intent": "count", "chart_type": "bar", "x_meaning": "first care unit", "y_meaning": "count"}
{"question": "ICU 투입 이벤트 총량 상위 10 stay를 보여줘", "sql": "SELECT * FROM ( SELECT STAY_ID, SUM(AMOUNT) AS total_amount FROM INPUTEVENTS WHERE AMOUNT IS NOT NULL GROUP BY STAY_ID ORDER BY total_amount DESC ) WHERE ROWNUM <= 10", "intent": "sum", "chart_type": "bar", "x_meaning": "ICU stay", "y_meaning": "y axis"}
{"question": "ICU 배출 이벤트 총량 상위 10 stay를 보여줘", "sql": "SELECT * FROM ( SELECT STAY_ID, SUM(VALUE) AS total_output FROM OUTPUTEVENTS WHERE VALUE IS NOT NULL GROUP BY STAY_ID ORDER BY total_output DESC ) WHERE ROWNUM <= 10", "intent": "sum", "chart_type": "bar", "x_meaning": "ICU stay", "y_meaning": "y axis"}
{"question": "서비스 전환 상위 10개를 보여줘", "sql": "SELECT * FROM (SELECT PREV_SERVICE, CURR_SERVICE, COUNT(*) AS cnt FROM SERVICES WHERE PREV_SERVICE IS NOT NULL AND CURR_SERVICE IS NOT NULL GROUP BY PREV_SERVICE, CURR_SERVICE ORDER BY cnt DESC) WHERE ROWNUM <= 10", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "prev service", "y_meaning": "y axis"}
{"question": "POE 샘플 100건을 보여줘", "sql": "SELECT POE_ID, POE_SEQ FROM POE WHERE POE_ID IS NOT NULL AND ROWNUM <= 100", "intent": "summary", "chart_type": "table", "x_meaning": "poe id", "y_meaning": "poe seq"}
{"question": "EMAR 샘플 100건을 보여줘", "sql": "SELECT SUBJECT_ID, HADM_ID FROM EMAR WHERE SUBJECT_ID IS NOT NULL AND ROWNUM <= 100", "intent": "summary", "chart_type": "table", "x_meaning": "patient", "y_meaning": "hospital admission"}
{"question": "처방(PRESCRIPTIONS) 샘플 100건을 보여줘", "sql": "SELECT SUBJECT_ID, HADM_ID FROM PRESCRIPTIONS WHERE SUBJECT_ID IS NOT NULL AND ROWNUM <= 100", "intent": "summary", "chart_type": "table", "x_meaning": "patient", "y_meaning": "hospital admission"}
{"question": "보험 종류별로 입원 환자 수가 어떻게 되는지 알려줘. 많은 순으로 20개만 보여줘.", "sql": "SELECT a.insurance, COUNT(*) AS hadm_cnt FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id GROUP BY a.insurance ORDER BY hadm_cnt DESC FETCH FIRST 20 ROWS ONLY", "intent": "count", "chart_type": "bar", "x_meaning": "insurance", "y_meaning": "count"}
{"question": "인종/민족별로 입원 환자 수를 세어서, 많은 순으로 30개만 보여줘.", "sql": "SELECT a.race, COUNT(*) AS hadm_cnt FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id GROUP BY a.race ORDER BY hadm_cnt DESC FETCH FIRST 30 ROWS ONLY", "intent": "count", "chart_type": "bar", "x_meaning": "race", "y_meaning": "count"}
{"question": "입원 환자 중에 결혼 상태(marital_status)별로 입원 건수가 얼마나 되는지 많은 순으로 알려줘.", "sql": "SELECT a.marital_status, COUNT(*) AS hadm_cnt FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id GROUP BY a.marital_status ORDER BY hadm_cnt DESC FETCH FIRST 20 ROWS ONLY", "intent": "count", "chart_type": "bar", "x_meaning": "marital status", "y_meaning": "count"}
{"question": "입원한 환자중에서 언어별로 입원 건수를 세고, 많은 순으로 상위 20개를 보여줘", "sql": "SELECT a.language, COUNT(*) AS hadm_cnt FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id GROUP BY a.language ORDER BY hadm_cnt DESC FETCH FIRST 20 ROWS ONLY", "intent": "count", "chart_type": "bar", "x_meaning": "language", "y_meaning": "count"}
{"question": "입원 유형(응급/예약/기타)별로 입원 건수를 집계해서, 많은 순으로 20개만 보여줘.", "sql": "SELECT a.admission_type, COUNT(*) AS hadm_cnt FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id GROUP BY a.admission_type ORDER BY hadm_cnt DESC FETCH FIRST 20 ROWS ONLY", "intent": "count", "chart_type": "bar", "x_meaning": "admission type", "y_meaning": "count"}
{"question": "환자가 어디에서/어떤 경로로 입원했는지(입원 경로)별로 입원 건수를 세고, 많은 순으로 20개 보여줘", "sql": "SELECT a.admission_location, COUNT(*) AS hadm_cnt FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id GROUP BY a.admission_location ORDER BY hadm_cnt DESC FETCH FIRST 20 ROWS ONLY", "intent": "count", "chart_type": "bar", "x_meaning": "admission location", "y_meaning": "count"}
{"question": "퇴원할 때 환자가 어디로 갔는지(퇴원 장소/퇴원 형태)별로 입원 건수를 세고, 많은 순으로 20개 보여줘", "sql": "SELECT a.discharge_location, COUNT(*) AS hadm_cnt FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id GROUP BY a.discharge_location ORDER BY hadm_cnt DESC FETCH FIRST 20 ROWS ONLY", "intent": "count", "chart_type": "bar", "x_meaning": "discharge location", "y_meaning": "count"}
{"question": "연령대 구간(18세-39세/40세-64세/65세 이상)별 입원 건수를 집계해줘.", "sql": "SELECT CASE WHEN p.anchor_age BETWEEN 18 AND 39 THEN '18-39' WHEN p.anchor_age BETWEEN 40 AND 64 THEN '40-64' WHEN p.anchor_age >= 65 THEN '65+' ELSE 'UNKNOWN' END AS age_band, COUNT(DISTINCT a.hadm_id) AS hadm_cnt FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id GROUP BY CASE WHEN p.anchor_age BETWEEN 18 AND 39 THEN '18-39' WHEN p.anchor_age BETWEEN 40 AND 64 THEN '40-64' WHEN p.anchor_age >= 65 THEN '65+' ELSE 'UNKNOWN' END ORDER BY hadm_cnt DESC", "intent": "count", "chart_type": "bar", "x_meaning": "end", "y_meaning": "count"}
{"question": "나이대(18세–39세, 40세–64세, 65세 이상)별로 입원 중 사망한 비율(병원 사망률)을 알려줘.", "sql": "SELECT CASE WHEN p.anchor_age BETWEEN 18 AND 39 THEN '18-39' WHEN p.anchor_age BETWEEN 40 AND 64 THEN '40-64' WHEN p.anchor_age >= 65 THEN '65+' ELSE 'UNKNOWN' END AS age_band, COUNT(*) AS hadm_cnt, AVG(a.hospital_expire_flag) AS hosp_mortality_rate FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id GROUP BY CASE WHEN p.anchor_age BETWEEN 18 AND 39 THEN '18-39' WHEN p.anchor_age BETWEEN 40 AND 64 THEN '40-64' WHEN p.anchor_age >= 65 THEN '65+' ELSE 'UNKNOWN' END ORDER BY age_band", "intent": "count", "chart_type": "bar", "x_meaning": "end", "y_meaning": "count"}
{"question": "입원 유형(응급/예약/긴급 등)별로 병원 사망률이 어떻게 다른지 알려줘.", "sql": "SELECT a.admission_type, COUNT(*) AS hadm_cnt, AVG(a.hospital_expire_flag) AS hosp_mortality_rate FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id GROUP BY a.admission_type ORDER BY hosp_mortality_rate DESC FETCH FIRST 20 ROWS ONLY", "intent": "count", "chart_type": "bar", "x_meaning": "admission type", "y_meaning": "count"}
{"question": "응급으로 입원한 환자 수가 월별로 어떻게 변했는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(*) AS hadm_cnt FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id WHERE a.admission_type = 'EMERGENCY' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "예약(선택) 입원한 환자 수가 월별로 어떻게 변했는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(*) AS hadm_cnt FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id WHERE a.admission_type = 'ELECTIVE' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "긴급 입원한 환자 수가 월별로 어떻게 변했는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(*) AS hadm_cnt FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id WHERE a.admission_type = 'URGENT' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "고혈압(예: 진단코드가 I10으로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'I10%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "심부전(진단코드가 I50으로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'I50%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "폐렴(J18으로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'J18%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "당뇨(E11으로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'E11%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "급성 신부전(N17으로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'N17%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "간경변(K74로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'K74%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "패혈증(A41로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'A41%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "뇌 관련 질환(G93으로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'G93%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "폐암(C34로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'C34%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "뇌경색(I63으로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'I63%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "급성 심근경색(I21로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'I21%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "허혈성 심장질환(I25로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'I25%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "COPD(만성폐쇄성폐질환, J44로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'J44%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "위궤양(K25로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'K25%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "만성 신부전(N18로 시작) 진단이 있는 입원이 월별로 얼마나 있었는지 알려줘.", "sql": "SELECT TRUNC(a.admittime, 'MM') AS admit_month, COUNT(DISTINCT d.hadm_id) AS hadm_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id WHERE d.icd_code LIKE 'N18%' GROUP BY TRUNC(a.admittime, 'MM') ORDER BY admit_month FETCH FIRST 120 ROWS ONLY", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "mm", "y_meaning": "count"}
{"question": "진단 코드가 어떤 체계(버전)로 기록됐는지(예: ICD-9/ICD-10) 비중을 알려줘.", "sql": "SELECT d.icd_version, COUNT(*) AS dx_row_cnt FROM DIAGNOSES_ICD d JOIN ADMISSIONS a ON a.hadm_id = d.hadm_id GROUP BY d.icd_version ORDER BY dx_row_cnt DESC FETCH FIRST 10 ROWS ONLY", "intent": "count", "chart_type": "bar", "x_meaning": "ICD version", "y_meaning": "count"}
{"question": "입원 한 건당 시술/처치 코드가 많이 붙은 입원 사례를 상위 50개만 보여줘.", "sql": "SELECT p.hadm_id, COUNT(*) AS proc_cnt FROM PROCEDURES_ICD p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id GROUP BY p.hadm_id ORDER BY proc_cnt DESC FETCH FIRST 50 ROWS ONLY", "intent": "count", "chart_type": "bar", "x_meaning": "hospital admission", "y_meaning": "count"}
{"question": "입원 중에 내과를 거친 입원이 총 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT s.hadm_id) AS hadm_cnt FROM SERVICES s JOIN ADMISSIONS a ON a.hadm_id = s.hadm_id WHERE s.curr_service = 'MED'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중에 외과를 거친 입원이 총 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT s.hadm_id) AS hadm_cnt FROM SERVICES s JOIN ADMISSIONS a ON a.hadm_id = s.hadm_id WHERE s.curr_service = 'SURG'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중에 심장외과를 거친 입원이 총 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT s.hadm_id) AS hadm_cnt FROM SERVICES s JOIN ADMISSIONS a ON a.hadm_id = s.hadm_id WHERE s.curr_service = 'CARDS'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중에 신경과를 거친 입원이 총 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT s.hadm_id) AS hadm_cnt FROM SERVICES s JOIN ADMISSIONS a ON a.hadm_id = s.hadm_id WHERE s.curr_service = 'NEURO'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중에 정형외과를 거친 입원이 총 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT s.hadm_id) AS hadm_cnt FROM SERVICES s JOIN ADMISSIONS a ON a.hadm_id = s.hadm_id WHERE s.curr_service = 'ORTHO'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중에 산부인과를 거친 입원이 총 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT s.hadm_id) AS hadm_cnt FROM SERVICES s JOIN ADMISSIONS a ON a.hadm_id = s.hadm_id WHERE s.curr_service = 'GYN'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중에 이비인후과를 거친 입원이 총 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT s.hadm_id) AS hadm_cnt FROM SERVICES s JOIN ADMISSIONS a ON a.hadm_id = s.hadm_id WHERE s.curr_service = 'ENT'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중 어떤 진료과가 가장 많이 진료했는지 상위 20개를 보여줘.", "sql": "SELECT s.curr_service, COUNT(DISTINCT s.hadm_id) AS hadm_cnt FROM SERVICES s JOIN ADMISSIONS a ON a.hadm_id = s.hadm_id GROUP BY s.curr_service ORDER BY hadm_cnt DESC FETCH FIRST 20 ROWS ONLY", "intent": "count", "chart_type": "bar", "x_meaning": "curr service", "y_meaning": "count"}
{"question": "입원 중 반코마이신 처방이 있었던 입원이 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT p.hadm_id) AS hadm_cnt FROM PRESCRIPTIONS p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id WHERE LOWER(p.drug) LIKE '%vancomycin%'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중 세프트리악손 처방이 있었던 입원이 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT p.hadm_id) AS hadm_cnt FROM PRESCRIPTIONS p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id WHERE LOWER(p.drug) LIKE '%ceftriaxone%'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중 헤파린 처방이 있었던 입원이 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT p.hadm_id) AS hadm_cnt FROM PRESCRIPTIONS p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id WHERE LOWER(p.drug) LIKE '%heparin%'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중 인슐린 처방이 있었던 입원이 몇 건인지 알려줘", "sql": "SELECT COUNT(DISTINCT p.hadm_id) AS hadm_cnt FROM PRESCRIPTIONS p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id WHERE LOWER(p.drug) LIKE '%insulin%'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중 푸로세미드 처방이 있었던 입원이 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT p.hadm_id) AS hadm_cnt FROM PRESCRIPTIONS p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id WHERE LOWER(p.drug) LIKE '%furosemide%'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중 노르에피네프린 처방이 있었던 입원이 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT p.hadm_id) AS hadm_cnt FROM PRESCRIPTIONS p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id WHERE LOWER(p.drug) LIKE '%norepinephrine%'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중 에피네프린 처방이 있었던 입원이 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT p.hadm_id) AS hadm_cnt FROM PRESCRIPTIONS p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id WHERE LOWER(p.drug) LIKE '%epinephrine%'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중 바소프레신 처방이 있었던 입원이 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT p.hadm_id) AS hadm_cnt FROM PRESCRIPTIONS p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id WHERE LOWER(p.drug) LIKE '%vasopressin%'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중 프로포폴 처방이 있었던 입원이 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT p.hadm_id) AS hadm_cnt FROM PRESCRIPTIONS p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id WHERE LOWER(p.drug) LIKE '%propofol%'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중 미다졸람 처방이 있었던 입원이 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT p.hadm_id) AS hadm_cnt FROM PRESCRIPTIONS p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id WHERE LOWER(p.drug) LIKE '%midazolam%'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "입원 중 모르핀 처방이 있었던 입원이 몇 건인지 알려줘.", "sql": "SELECT COUNT(DISTINCT p.hadm_id) AS hadm_cnt FROM PRESCRIPTIONS p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id WHERE LOWER(p.drug) LIKE '%morphine%'", "intent": "count", "chart_type": "bar", "x_meaning": "hadm cnt", "y_meaning": "count"}
{"question": "병원에서 어떤 약이 가장 많이 처방(오더)되는지 상위 30개를 보여줘.", "sql": "SELECT p.drug, COUNT(*) AS rx_cnt FROM PRESCRIPTIONS p JOIN ADMISSIONS a ON a.hadm_id = p.hadm_id GROUP BY p.drug ORDER BY rx_cnt DESC FETCH FIRST 30 ROWS ONLY", "intent": "count", "chart_type": "bar", "x_meaning": "drug", "y_meaning": "count"}
{"question": "중환자실에 들어간 성인 환자들에 대해, 해당 입원과 ICU 입실 기록 목록을 뽑아줘.", "sql": "SELECT a.subject_id, a.hadm_id, i.stay_id, p.anchor_age, a.admittime, a.dischtime, i.intime, i.outtime FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id JOIN ICUSTAYS i ON i.hadm_id = a.hadm_id WHERE p.anchor_age >= 18", "intent": "summary", "chart_type": "line", "x_meaning": "patient", "y_meaning": "hospital admission"}
{"question": "성인 환자만 대상으로 해서, 환자마다 첫 번째 입원 기록만 남겨서 코호트를 만들어줘.", "sql": "WITH first_admit AS ( SELECT subject_id, MIN(admittime) AS first_admittime FROM ADMISSIONS GROUP BY subject_id ) SELECT a.subject_id, a.hadm_id, a.admittime, a.dischtime, p.anchor_age FROM ADMISSIONS a JOIN first_admit f ON f.subject_id = a.subject_id AND f.first_admittime = a.admittime JOIN PATIENTS p ON p.subject_id = a.subject_id WHERE p.anchor_age >= 18", "intent": "min", "chart_type": "stacked_bar", "x_meaning": "patient", "y_meaning": "minimum"}
{"question": "각 입원에 대해 퇴원 후 30일 안에 다시 입원했는지(30일 재입원) 표시해줘.", "sql": "SELECT a1.hadm_id, a1.subject_id, CASE WHEN EXISTS ( SELECT 1 FROM ADMISSIONS a2 WHERE a2.subject_id = a1.subject_id AND a2.admittime BETWEEN a1.dischtime AND a1.dischtime + 30 AND a2.hadm_id <> a1.hadm_id ) THEN 1 ELSE 0 END AS readmit_30d_flag FROM ADMISSIONS a1", "intent": "summary", "chart_type": "line", "x_meaning": "hospital admission", "y_meaning": "patient"}
{"question": "병원에 7일 이상 입원했던 케이스만 포함해줘", "sql": "SELECT hadm_id, subject_id, admittime, dischtime FROM ADMISSIONS WHERE dischtime >= admittime + 7", "intent": "summary", "chart_type": "line", "x_meaning": "hospital admission", "y_meaning": "patient"}
{"question": "한 입원 안에 중환자실 입원기록이 여러 개면, 그중 첫 번째 중환자실 입원기록만 남겨줘.", "sql": "WITH ranked AS ( SELECT hadm_id, stay_id, intime, outtime, ROW_NUMBER() OVER (PARTITION BY hadm_id ORDER BY intime) AS rn FROM ICUSTAYS ) SELECT hadm_id, stay_id, intime, outtime FROM ranked WHERE rn = 1", "intent": "summary", "chart_type": "line", "x_meaning": "hospital admission", "y_meaning": "ICU stay"}
{"question": "입원 경로 기반으로 응급실에서 들어온 입원만 뽑아줘", "sql": "SELECT hadm_id, subject_id, admittime, admission_location FROM ADMISSIONS WHERE LOWER(admission_location) LIKE '%emergency%'", "intent": "summary", "chart_type": "line", "x_meaning": "hospital admission", "y_meaning": "patient"}
{"question": "최종 코호트에서 성별(남/여) 분포를 집계해줘", "sql": "SELECT p.gender, COUNT(DISTINCT a.hadm_id) AS hadm_cnt FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id GROUP BY p.gender", "intent": "count", "chart_type": "bar", "x_meaning": "gender", "y_meaning": "count"}
{"question": "입원 중 담당 진료과가 내과인 경우만 포함해줘.", "sql": "SELECT a.hadm_id, a.subject_id, s.transfertime, s.curr_service FROM ADMISSIONS a JOIN SERVICES s ON s.hadm_id = a.hadm_id WHERE s.curr_service = 'MED'", "intent": "summary", "chart_type": "table", "x_meaning": "hospital admission", "y_meaning": "patient"}
{"question": "특정 진단코드가 있는 입원만 골라서 코호트를 만들고 싶어(예: I50% 심부전).", "sql": "SELECT DISTINCT d.hadm_id, d.subject_id, d.icd_code, d.icd_version FROM DIAGNOSES_ICD d WHERE d.icd_code LIKE 'I50%'", "intent": "summary", "chart_type": "table", "x_meaning": "hospital admission", "y_meaning": "patient"}
{"question": "신생아/소아는 제외하고, 성인만 남겨줘.", "sql": "SELECT a.hadm_id, a.subject_id, p.anchor_age FROM ADMISSIONS a JOIN PATIENTS p ON p.subject_id = a.subject_id WHERE p.anchor_age >= 18", "intent": "summary", "chart_type": "table", "x_meaning": "hospital admission", "y_meaning": "patient"}
{"question": "입원 기간 동안 norepinephrine 총 투여량(amount)을 입원별로 합산해줘.", "sql": "WITH norepi_item AS ( SELECT itemid FROM D_ITEMS WHERE LOWER(label) LIKE '%norepinephrine%' ), stays AS ( SELECT hadm_id, stay_id FROM ICUSTAYS ) SELECT s.hadm_id, SUM(ie.amount) AS norepi_total_amount FROM stays s JOIN INPUTEVENTS ie ON ie.stay_id = s.stay_id JOIN norepi_item ni ON ni.itemid = ie.itemid GROUP BY s.hadm_id", "intent": "sum", "chart_type": "bar", "x_meaning": "hospital admission", "y_meaning": "y axis"}
{"question": "입원 기간 전체에서 승압제(노르에피네프린/에피네프린/바소프레신)를 약물 종류별로 각각 총 투여량을 계산해줘.", "sql": "WITH vp_items AS ( SELECT itemid, CASE WHEN LOWER(label) LIKE '%norepinephrine%' THEN 'norepinephrine' WHEN LOWER(label) LIKE '%epinephrine%' THEN 'epinephrine' WHEN LOWER(label) LIKE '%vasopressin%' THEN 'vasopressin' END AS drug FROM D_ITEMS WHERE LOWER(label) LIKE '%norepinephrine%' OR LOWER(label) LIKE '%epinephrine%' OR LOWER(label) LIKE '%vasopressin%' ), stays AS ( SELECT hadm_id, stay_id FROM ICUSTAYS ) SELECT s.hadm_id, v.drug, SUM(ie.amount) AS total_amount FROM stays s JOIN INPUTEVENTS ie ON ie.stay_id = s.stay_id JOIN vp_items v ON v.itemid = ie.itemid GROUP BY s.hadm_id, v.drug", "intent": "sum", "chart_type": "stacked_bar", "x_meaning": "hospital admission", "y_meaning": "drug"}
{"question": "중환자실 입원 기간동안 norepinephrine이 언제부터 언제까지 어떤 속도로 들어갔는지(시작/종료/속도) 타임라인 형태로 보여줘.", "sql": "WITH norepi_item AS ( SELECT itemid FROM D_ITEMS WHERE LOWER(label) LIKE '%norepinephrine%' ) SELECT ie.stay_id, ie.starttime, ie.endtime, ie.rate, ie.rateuom FROM INPUTEVENTS ie JOIN norepi_item ni ON ni.itemid = ie.itemid WHERE ie.rate IS NOT NULL ORDER BY ie.stay_id, ie.starttime", "intent": "summary", "chart_type": "line", "x_meaning": "item", "y_meaning": "y axis"}
{"question": "처방 기록에서 항생제 리스트 테이블 만들어줘. drug는 대문자로 통일해줘.", "sql": "WITH abx_flag AS ( SELECT DISTINCT drug, route, CASE WHEN LOWER(drug) LIKE '%vancomycin%' THEN 1 WHEN LOWER(drug) LIKE '%zosyn%' THEN 1 WHEN LOWER(drug) LIKE '%ceftriaxone%' THEN 1 ELSE 0 END AS is_antibiotic FROM prescriptions WHERE drug_type NOT IN ('BASE') AND route NOT IN ('OU','OS','OD','AU','AS','AD','TP') AND LOWER(route) NOT LIKE '%ear%' AND LOWER(route) NOT LIKE '%eye%') SELECT p.subject_id, p.hadm_id, i.stay_id, p.drug AS antibiotic, p.route, p.starttime, p.stoptime FROM prescriptions p JOIN abx_flag f ON p.drug = f.drug AND p.route = f.route LEFT JOIN icustays i ON p.hadm_id = i.hadm_id AND p.starttime >= i.intime AND p.starttime < i.outtime WHERE f.is_antibiotic = 1", "intent": "summary", "chart_type": "line", "x_meaning": "drug", "y_meaning": "route"}
{"question": "입원 중 처방(prescriptions)에서 특정 항생제(예: piperacillin-tazobactam)가 몇 번 주문됐는지 입원별로 세어줘.", "sql": "SELECT hadm_id, COUNT(*) AS rx_order_cnt FROM PRESCRIPTIONS WHERE LOWER(drug) LIKE '%piperacillin%tazobactam%' GROUP BY hadm_id", "intent": "count", "chart_type": "bar", "x_meaning": "hospital admission", "y_meaning": "count"}
{"question": "중환자실 입원중에 CRRT(지속적 신대체요법/투석) 관련 처치 이벤트가 한 번이라도 있었는지 확인해서 표시해줘.", "sql": "WITH crrt_items AS ( SELECT itemid FROM D_ITEMS WHERE LOWER(label) LIKE '%crrt%' OR LOWER(label) LIKE '%dialysis%' ) SELECT pe.stay_id, MIN(pe.starttime) AS first_crrt_time FROM PROCEDUREEVENTS pe JOIN crrt_items ci ON ci.itemid = pe.itemid GROUP BY pe.stay_id", "intent": "min", "chart_type": "bar", "x_meaning": "ICU stay", "y_meaning": "y axis"}
{"question": "입원별로 병원 내 사망 여부를 뽑아줘.", "sql": "SELECT hadm_id, subject_id, hospital_expire_flag FROM ADMISSIONS", "intent": "summary", "chart_type": "table", "x_meaning": "hospital admission", "y_meaning": "patient"}
{"question": "입원별 재원일수를 계산해줘.", "sql": "SELECT hadm_id, subject_id, admittime, dischtime, (dischtime - admittime) AS los_interval FROM ADMISSIONS", "intent": "summary", "chart_type": "line", "x_meaning": "hospital admission", "y_meaning": "patient"}
{"question": "중환자실 입원 기간별 재실시간을 계산해줘.", "sql": "SELECT stay_id, hadm_id, intime, outtime, (outtime - intime) AS icu_los_interval FROM ICUSTAYS", "intent": "summary", "chart_type": "line", "x_meaning": "ICU stay", "y_meaning": "hospital admission"}
{"question": "각 입원에 대해 30일 내 재입원 여부를 다시 한 번(분석용 라벨로) 만들어줘.", "sql": "SELECT a1.hadm_id, a1.subject_id, CASE WHEN EXISTS ( SELECT 1 FROM ADMISSIONS a2 WHERE a2.subject_id = a1.subject_id AND a2.admittime BETWEEN a1.dischtime AND a1.dischtime + 30 AND a2.hadm_id <> a1.hadm_id ) THEN 1 ELSE 0 END AS readmit_30d_flag FROM ADMISSIONS a1", "intent": "summary", "chart_type": "line", "x_meaning": "hospital admission", "y_meaning": "patient"}
{"question": "입원 중 사망한 환자는 사망 시점(deathtime)도 같이 포함해서 뽑아줘.", "sql": "SELECT hadm_id, subject_id, hospital_expire_flag, deathtime FROM ADMISSIONS WHERE hospital_expire_flag = 1", "intent": "summary", "chart_type": "table", "x_meaning": "hospital admission", "y_meaning": "patient"}
{"question": "퇴원 형태가 어떻게 분포하는지 집계해줘.", "sql": "SELECT discharge_location, COUNT(*) AS hadm_cnt FROM ADMISSIONS GROUP BY discharge_location ORDER BY hadm_cnt DESC", "intent": "count", "chart_type": "bar", "x_meaning": "discharge location", "y_meaning": "count"}
{"question": "입원 중 병동 이동이 총 몇 번 있었는지 입원별로 계산해줘.", "sql": "SELECT hadm_id, COUNT(*) AS transfer_cnt FROM TRANSFERS GROUP BY hadm_id", "intent": "count", "chart_type": "bar", "x_meaning": "hospital admission", "y_meaning": "count"}
{"question": "같은 입원안에서 중환자실에 두 번 이상 들어간 경우(재입실, 두 번째 stay 이상)인지 플래그로 표시해줘.", "sql": "WITH cnt AS ( SELECT hadm_id, COUNT(*) AS icu_stay_cnt FROM ICUSTAYS GROUP BY hadm_id ) SELECT hadm_id, CASE WHEN icu_stay_cnt >= 2 THEN 1 ELSE 0 END AS icu_readmit_same_hadm_flag FROM cnt", "intent": "count", "chart_type": "stacked_bar", "x_meaning": "hospital admission", "y_meaning": "count"}
